<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tRPC-Cpp: trpc::PeripheryTaskScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tRPC-Cpp<span id="projectnumber">&#160;1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetrpc.html">trpc</a></li><li class="navelem"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html">PeripheryTaskScheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">trpc::PeripheryTaskScheduler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class used to execute periodic/non-periodic tasks.  
 <a href="classtrpc_1_1_periphery_task_scheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="periphery__task__scheduler_8h_source.html">periphery_task_scheduler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95a7abc99e41934817060b172a68a80f" id="r_a95a7abc99e41934817060b172a68a80f"><td class="memItemLeft" align="right" valign="top">std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#a95a7abc99e41934817060b172a68a80f">SubmitTask</a> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:a95a7abc99e41934817060b172a68a80f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a nonperiodic task.  <br /></td></tr>
<tr class="separator:a95a7abc99e41934817060b172a68a80f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec40ba243280422e8861a7bba4fcc14f" id="r_aec40ba243280422e8861a7bba4fcc14f"><td class="memItemLeft" align="right" valign="top">std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#aec40ba243280422e8861a7bba4fcc14f">SubmitPeriodicalTask</a> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, std::uint64_t interval, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:aec40ba243280422e8861a7bba4fcc14f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a periodic task.  <br /></td></tr>
<tr class="separator:aec40ba243280422e8861a7bba4fcc14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd780bf56ec25c204f344d7e0ccd480" id="r_a0fd780bf56ec25c204f344d7e0ccd480"><td class="memItemLeft" align="right" valign="top">std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#a0fd780bf56ec25c204f344d7e0ccd480">SubmitPeriodicalTask</a> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, <a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; std::uint64_t()&gt; &amp;&amp;interval_gen_func, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:a0fd780bf56ec25c204f344d7e0ccd480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a periodic task.  <br /></td></tr>
<tr class="separator:a0fd780bf56ec25c204f344d7e0ccd480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b1f0068054575ac35cd6f465da3660" id="r_a33b1f0068054575ac35cd6f465da3660"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#a33b1f0068054575ac35cd6f465da3660">StopTask</a> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:a33b1f0068054575ac35cd6f465da3660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the task, used in conjunction with JoinTask to wait for tasks to complete before exiting.  <br /></td></tr>
<tr class="separator:a33b1f0068054575ac35cd6f465da3660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422e7eb9f31617cdbb7e021ac9702cfa" id="r_a422e7eb9f31617cdbb7e021ac9702cfa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#a422e7eb9f31617cdbb7e021ac9702cfa">JoinTask</a> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:a422e7eb9f31617cdbb7e021ac9702cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block and wait for tasks to complete, used in scenarios where it is necessary to wait for tasks to complete before exiting.  <br /></td></tr>
<tr class="separator:a422e7eb9f31617cdbb7e021ac9702cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980ed320582250e0e3b15ccee028cca1" id="r_a980ed320582250e0e3b15ccee028cca1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#a980ed320582250e0e3b15ccee028cca1">RemoveTask</a> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:a980ed320582250e0e3b15ccee028cca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove task, used in scenarios where it is not necessary to wait for tasks to complete before exiting.  <br /></td></tr>
<tr class="separator:a980ed320582250e0e3b15ccee028cca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab667441b138f5378cd724e021a99c26a" id="r_ab667441b138f5378cd724e021a99c26a"><td class="memItemLeft" align="right" valign="top"><a id="ab667441b138f5378cd724e021a99c26a" name="ab667441b138f5378cd724e021a99c26a"></a>
std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>SubmitInnerTask</b> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:ab667441b138f5378cd724e021a99c26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'SubmitTask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:ab667441b138f5378cd724e021a99c26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efdb58501dd7165b4fe5e4e92e93f62" id="r_a3efdb58501dd7165b4fe5e4e92e93f62"><td class="memItemLeft" align="right" valign="top"><a id="a3efdb58501dd7165b4fe5e4e92e93f62" name="a3efdb58501dd7165b4fe5e4e92e93f62"></a>
std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>SubmitInnerPeriodicalTask</b> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, std::uint64_t interval, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:a3efdb58501dd7165b4fe5e4e92e93f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'SubmitPeriodicalTask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:a3efdb58501dd7165b4fe5e4e92e93f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc819679917cfd8761f7ec2a84144a5" id="r_a4fc819679917cfd8761f7ec2a84144a5"><td class="memItemLeft" align="right" valign="top"><a id="a4fc819679917cfd8761f7ec2a84144a5" name="a4fc819679917cfd8761f7ec2a84144a5"></a>
std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>SubmitInnerPeriodicalTask</b> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;task, <a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; std::uint64_t()&gt; interval_gen_func, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:a4fc819679917cfd8761f7ec2a84144a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'SubmitPeriodicalTask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:a4fc819679917cfd8761f7ec2a84144a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0da98cf7a77c24efaab1c50b1b34ca8" id="r_aa0da98cf7a77c24efaab1c50b1b34ca8"><td class="memItemLeft" align="right" valign="top"><a id="aa0da98cf7a77c24efaab1c50b1b34ca8" name="aa0da98cf7a77c24efaab1c50b1b34ca8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>RemoveInnerTask</b> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:aa0da98cf7a77c24efaab1c50b1b34ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'RemoveTask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:aa0da98cf7a77c24efaab1c50b1b34ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634b3ad844dc988ca1b3b80fb4ea1df2" id="r_a634b3ad844dc988ca1b3b80fb4ea1df2"><td class="memItemLeft" align="right" valign="top"><a id="a634b3ad844dc988ca1b3b80fb4ea1df2" name="a634b3ad844dc988ca1b3b80fb4ea1df2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>StopInnerTask</b> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:a634b3ad844dc988ca1b3b80fb4ea1df2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'Stoptask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:a634b3ad844dc988ca1b3b80fb4ea1df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed74cea61b9daa07e94490c81cf9f1d9" id="r_aed74cea61b9daa07e94490c81cf9f1d9"><td class="memItemLeft" align="right" valign="top"><a id="aed74cea61b9daa07e94490c81cf9f1d9" name="aed74cea61b9daa07e94490c81cf9f1d9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>JoinInnerTask</b> (std::uint64_t task_id)</td></tr>
<tr class="memdesc:aed74cea61b9daa07e94490c81cf9f1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as 'Jointask', but is used only internally by the framework. <br /></td></tr>
<tr class="separator:aed74cea61b9daa07e94490c81cf9f1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab91c04fe40c637bdc84d07bd87e5e5b" id="r_aab91c04fe40c637bdc84d07bd87e5e5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrpc_1_1_periphery_task_scheduler.html#aab91c04fe40c637bdc84d07bd87e5e5b">RegisterInnerResourceCleanCallback</a> (<a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;cb)</td></tr>
<tr class="memdesc:aab91c04fe40c637bdc84d07bd87e5e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to destroy resources accessed by scheduled tasks after all scheduled task execution threads have exited.  <br /></td></tr>
<tr class="separator:aab91c04fe40c637bdc84d07bd87e5e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9d6ab2f523419c896e0990ae7f56b0" id="r_a0e9d6ab2f523419c896e0990ae7f56b0"><td class="memItemLeft" align="right" valign="top"><a id="a0e9d6ab2f523419c896e0990ae7f56b0" name="a0e9d6ab2f523419c896e0990ae7f56b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PeripheryTaskScheduler</b> (const <a class="el" href="classtrpc_1_1_periphery_task_scheduler.html">PeripheryTaskScheduler</a> &amp;)=delete</td></tr>
<tr class="separator:a0e9d6ab2f523419c896e0990ae7f56b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c609480b4f472cd9c9aa310170faddb" id="r_a1c609480b4f472cd9c9aa310170faddb"><td class="memItemLeft" align="right" valign="top"><a id="a1c609480b4f472cd9c9aa310170faddb" name="a1c609480b4f472cd9c9aa310170faddb"></a>
<a class="el" href="classtrpc_1_1_periphery_task_scheduler.html">PeripheryTaskScheduler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classtrpc_1_1_periphery_task_scheduler.html">PeripheryTaskScheduler</a> &amp;)=delete</td></tr>
<tr class="separator:a1c609480b4f472cd9c9aa310170faddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1d9449485f25076fef14d53d50746436" id="r_a1d9449485f25076fef14d53d50746436"><td class="memItemLeft" align="right" valign="top"><a id="a1d9449485f25076fef14d53d50746436" name="a1d9449485f25076fef14d53d50746436"></a>
static <a class="el" href="classtrpc_1_1_periphery_task_scheduler.html">PeripheryTaskScheduler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetInstance</b> ()</td></tr>
<tr class="memdesc:a1d9449485f25076fef14d53d50746436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the global instance. <br /></td></tr>
<tr class="separator:a1d9449485f25076fef14d53d50746436"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used to execute periodic/non-periodic tasks. </p>
<p>Mainly used to converge scattered threads in the framework. When used internally in the framework, use the interface with 'Inner' in its name. Framework users can also submit their own tasks using this class. Generally, tasks can be submitted using 'SubmitTask/SubmitPeriodicalTask', and there is no need to manually stop the tasks. The framework will stop all tasks uniformly when the program ends. If there is a need to control the task stop, 'RemoveTask or StopTask/JoinTask' can be used, you can see interface description for details. The size of the thread group used by the framework user is controlled by the 'global-&gt;periphery_task_scheduler_thread_num' field in the YAML file, which defaults to 1 and can be customized. The size of the thread group used by the framework can also be controlled by the 'global-&gt;inner_periphery_task_scheduler_thread_num' field in the YAML file, which defaults to 2. Generally, does not need to be concerned about this value. If too many tasks are started due to the use of many plugins, the value can be appropriately increased based on the performance of the program. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a422e7eb9f31617cdbb7e021ac9702cfa" name="a422e7eb9f31617cdbb7e021ac9702cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422e7eb9f31617cdbb7e021ac9702cfa">&#9670;&#160;</a></span>JoinTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trpc::PeripheryTaskScheduler::JoinTask </td>
          <td>(</td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block and wait for tasks to complete, used in scenarios where it is necessary to wait for tasks to complete before exiting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_id</td><td>task id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return the task id. on error, return 0 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>1. This interface cannot be called within the task, therefore if it is called before the task completes, it will cause a deadlock.<ol type="1">
<li>This interface can only be called once with the same ID. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="aab91c04fe40c637bdc84d07bd87e5e5b" name="aab91c04fe40c637bdc84d07bd87e5e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab91c04fe40c637bdc84d07bd87e5e5b">&#9670;&#160;</a></span>RegisterInnerResourceCleanCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trpc::PeripheryTaskScheduler::RegisterInnerResourceCleanCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to destroy resources accessed by scheduled tasks after all scheduled task execution threads have exited. </p>
<dl class="section note"><dt>Note</dt><dd>Used only internally by the framework. </dd></dl>

</div>
</div>
<a id="a980ed320582250e0e3b15ccee028cca1" name="a980ed320582250e0e3b15ccee028cca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980ed320582250e0e3b15ccee028cca1">&#9670;&#160;</a></span>RemoveTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trpc::PeripheryTaskScheduler::RemoveTask </td>
          <td>(</td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove task, used in scenarios where it is not necessary to wait for tasks to complete before exiting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_id</td><td>task id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return true. on error, return false </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This interface can only be called once with the same ID. </dd></dl>

</div>
</div>
<a id="a33b1f0068054575ac35cd6f465da3660" name="a33b1f0068054575ac35cd6f465da3660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b1f0068054575ac35cd6f465da3660">&#9670;&#160;</a></span>StopTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trpc::PeripheryTaskScheduler::StopTask </td>
          <td>(</td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the task, used in conjunction with JoinTask to wait for tasks to complete before exiting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_id</td><td>task id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return true. on error, return false </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This interface can only be called once with the same ID. </dd></dl>

</div>
</div>
<a id="a0fd780bf56ec25c204f344d7e0ccd480" name="a0fd780bf56ec25c204f344d7e0ccd480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd780bf56ec25c204f344d7e0ccd480">&#9670;&#160;</a></span>SubmitPeriodicalTask() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::uint64_t trpc::PeripheryTaskScheduler::SubmitPeriodicalTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; std::uint64_t()&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>interval_gen_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a periodic task. </p>
<p>The execution interval of scheduled tasks can be customized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>processing function of task </td></tr>
    <tr><td class="paramname">name</td><td>task name, the default value is "", it can be used for debugging </td></tr>
    <tr><td class="paramname">interval_gen_func</td><td>execution interval generation function in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return the task id. on error, return 0 </dd></dl>

</div>
</div>
<a id="aec40ba243280422e8861a7bba4fcc14f" name="aec40ba243280422e8861a7bba4fcc14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec40ba243280422e8861a7bba4fcc14f">&#9670;&#160;</a></span>SubmitPeriodicalTask() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::uint64_t trpc::PeripheryTaskScheduler::SubmitPeriodicalTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a periodic task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>processing function of task </td></tr>
    <tr><td class="paramname">name</td><td>task name, the default value is "", it can be used for debugging </td></tr>
    <tr><td class="paramname">interval</td><td>periodic interval in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return the task id. on error, return 0 </dd></dl>

</div>
</div>
<a id="a95a7abc99e41934817060b172a68a80f" name="a95a7abc99e41934817060b172a68a80f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95a7abc99e41934817060b172a68a80f">&#9670;&#160;</a></span>SubmitTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::uint64_t trpc::PeripheryTaskScheduler::SubmitTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrpc_1_1_function.html">Function</a>&lt; void()&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a nonperiodic task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>processing function of task </td></tr>
    <tr><td class="paramname">name</td><td>task name, the default value is "", it can be used for debugging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, return the task id. on error, return 0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>trpc/runtime/common/<a class="el" href="periphery__task__scheduler_8h_source.html">periphery_task_scheduler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 28 2023 11:25:47 for tRPC-Cpp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>

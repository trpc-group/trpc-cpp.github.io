<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tRPC-Cpp: trpc/server/server_context.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tRPC-Cpp<span id="projectnumber">&#160;1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a41f091b1e5ab926439dd99c529add50.html">trpc</a></li><li class="navelem"><a class="el" href="dir_807dcd828fd15d240722561ca9518d60.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">server_context.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Tencent is pleased to support the open source community by making tRPC available.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">//</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// Copyright (C) 2023 THL A29 Limited, a Tencent company.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// All rights reserved.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// If you have downloaded a copy of the tRPC source code from Tencent,</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// please note that tRPC source code is licensed under the  Apache 2.0 License,</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// A copy of the Apache 2.0 License is included in this file.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">//</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">//</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;any&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;string_view&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#ifdef TRPC_PROTO_USE_ARENA</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;google/protobuf/arena.h&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;rapidjson/document.h&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;trpc/codec/protocol.h&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;trpc/codec/server_codec.h&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;trpc/codec/trpc/trpc.pb.h&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;trpc/common/status.h&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;trpc/compressor/compressor_type.h&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;trpc/filter/server_filter_controller.h&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;trpc/serialization/serialization_type.h&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;trpc/server/method_handler.h&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;trpc/stream/stream_provider.h&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;trpc/util/buffer/noncontiguous_buffer.h&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;trpc/util/flatbuffers/message_fbs.h&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacetrpc.html">trpc</a> {</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keyword">class </span>Service;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="foldopen" id="foldopen00053" data-start="{" data-end="};">
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html">   53</a></span><span class="keyword">class </span><a class="code hl_class" href="classtrpc_1_1_server_context.html">ServerContext</a> : <span class="keyword">public</span> <a class="code hl_class" href="classtrpc_1_1_ref_counted.html">RefCounted</a>&lt;ServerContext&gt; {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00056" data-start="{" data-end="};">
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">   56</a></span>  <span class="keyword">enum class</span> <a class="code hl_enumeration" href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">NetType</a> : uint8_t {</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    kTcp,</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    kUdp,</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    kOther,</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  };</div>
</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  <a class="code hl_class" href="classtrpc_1_1_server_context.html">ServerContext</a>();</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  <a class="code hl_class" href="classtrpc_1_1_server_context.html">~ServerContext</a>();</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a7ed318b82089c4d6f722af1fb949c941">   70</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a7ed318b82089c4d6f722af1fb949c941">SetRecvTimestampUs</a>(uint64_t value) { metrics_info_.recv_timestamp_us = value; }</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a2af2b8ebd1b95e59af0c351a618307bb">   74</a></span>  uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a2af2b8ebd1b95e59af0c351a618307bb">GetRecvTimestampUs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> metrics_info_.recv_timestamp_us; }</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a874ac8367148508fb4f6fc180e96d883">   78</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a874ac8367148508fb4f6fc180e96d883">SetBeginTimestampUs</a>(uint64_t value) { metrics_info_.begin_timestamp_us = value; }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a5097405e1c0ae8433e4821cc2014fc9e">   82</a></span>  uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5097405e1c0ae8433e4821cc2014fc9e">GetBeginTimestampUs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> metrics_info_.begin_timestamp_us; }</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aa54a2b82fbee4ae8cc268865096ac901">   86</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#aa54a2b82fbee4ae8cc268865096ac901">SetEndTimestampUs</a>(uint64_t value) { metrics_info_.end_timestamp_us = value; }</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a533c526012a65c1e7e0ff5017ffcab5d">   90</a></span>  uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a533c526012a65c1e7e0ff5017ffcab5d">GetEndTimestampUs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> metrics_info_.end_timestamp_us; }</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a52af85a7674ac52462f42b4d05e90481">   95</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a52af85a7674ac52462f42b4d05e90481">SetSendTimestampUs</a>(uint64_t value) { metrics_info_.send_timestamp_us = value; }</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a4a5962ad86a3eb266320a00525cd7aec">   99</a></span>  uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a4a5962ad86a3eb266320a00525cd7aec">GetSendTimestampUs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> metrics_info_.send_timestamp_us; }</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab14d14d26506ab176e0ff6c261b6126c">  103</a></span>  <span class="keyword">inline</span> uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab14d14d26506ab176e0ff6c261b6126c">GetRecvTimestamp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a2af2b8ebd1b95e59af0c351a618307bb">GetRecvTimestampUs</a>() / 1000; }</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aea5de2b51c9667bfe6bd9c38d2672895">  106</a></span>  <span class="keyword">inline</span> uint64_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#aea5de2b51c9667bfe6bd9c38d2672895">GetBeginTimestamp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5097405e1c0ae8433e4821cc2014fc9e">GetBeginTimestampUs</a>() / 1000; }</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a15fefb10e0598f1098059fd1a58b9021">  111</a></span>  <a class="code hl_enumeration" href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">NetType</a> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a15fefb10e0598f1098059fd1a58b9021">GetNetType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> net_info_.type; }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a7e7bfeeed293d6319bac9212ab70956b">  114</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a7e7bfeeed293d6319bac9212ab70956b">SetNetType</a>(<a class="code hl_enumeration" href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">NetType</a> type) { net_info_.type = type; }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  uint64_t GetConnectionId()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> net_info_.connection_id; }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  <span class="keywordtype">void</span> SetConnectionId(uint64_t conn_id) { net_info_.connection_id = conn_id; }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ae8cafe779974af2e7391c72e515d6965">  125</a></span>  std::string <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae8cafe779974af2e7391c72e515d6965">GetIp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> net_info_.ip; }</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a2efc6a5e546ad7bd2d3d04429b3c4ff2">  128</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a2efc6a5e546ad7bd2d3d04429b3c4ff2">SetIp</a>(std::string&amp;&amp; ip) { net_info_.ip = std::move(ip); }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a8b858b9c9cea23e0bda98a5ce03cdd01">  131</a></span>  uint16_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a8b858b9c9cea23e0bda98a5ce03cdd01">GetPort</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> net_info_.port; }</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aa2953c2341777c7f9a579f25fe163218">  134</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#aa2953c2341777c7f9a579f25fe163218">SetPort</a>(<span class="keywordtype">int</span> port) { net_info_.port = port; }</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a26a43416d811be9b9aa4e9a2df033573">  137</a></span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a26a43416d811be9b9aa4e9a2df033573">GetFd</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> net_info_.fd; }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a23120f91f8fb35d28c82d453fe1ced6e">  140</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a23120f91f8fb35d28c82d453fe1ced6e">SetFd</a>(<span class="keywordtype">int</span> fd) { net_info_.fd = fd; }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  <span class="keywordtype">void</span>* GetReserved() { <span class="keywordflow">return</span> net_info_.reserved; }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <span class="keywordtype">void</span> SetReserved(<span class="keywordtype">void</span>* ptr) { net_info_.reserved = ptr; }</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a2196ef58faa0d2b29e54390beae0b263">  153</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a2196ef58faa0d2b29e54390beae0b263">SetService</a>(<a class="code hl_class" href="classtrpc_1_1_service.html">Service</a>* service) { service_ = service; }</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a589fd695ab8e871a5a2cb7376f5ba9b2">  156</a></span>  <a class="code hl_class" href="classtrpc_1_1_service.html">Service</a>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#a589fd695ab8e871a5a2cb7376f5ba9b2">GetService</a>() { <span class="keywordflow">return</span> service_; }</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a93d22776024480e38374690ce4a7243c">  159</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a93d22776024480e38374690ce4a7243c">SetServerCodec</a>(<a class="code hl_class" href="classtrpc_1_1_server_codec.html">ServerCodec</a>* codec) { codec_ = codec; }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a379d242ca051a1496856fadd31e4fb29">  162</a></span>  <a class="code hl_class" href="classtrpc_1_1_server_codec.html">ServerCodec</a>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#a379d242ca051a1496856fadd31e4fb29">GetServerCodec</a>() { <span class="keywordflow">return</span> codec_; }</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="foldopen" id="foldopen00165" data-start="{" data-end="}">
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a72d77da7c0ce74fe6f3ee76e9e828679">  165</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a72d77da7c0ce74fe6f3ee76e9e828679">SetFilterController</a>(ServerFilterController* filter_controller) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    extend_info_.filter_controller = filter_controller;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  }</div>
</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="foldopen" id="foldopen00170" data-start="{" data-end="}">
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a232cf98207d66a6fa2c2021652a6c6d3">  170</a></span>  ServerFilterController&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a232cf98207d66a6fa2c2021652a6c6d3">GetFilterController</a>() {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    TRPC_ASSERT(extend_info_.filter_controller);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">return</span> *extend_info_.filter_controller;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  }</div>
</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a02dde5777fdb3962874060ed14a23a59">  176</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a02dde5777fdb3962874060ed14a23a59">HasFilterController</a>() { <span class="keywordflow">return</span> extend_info_.filter_controller != <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  <span class="keywordtype">void</span> SetFilterExecIndex(<a class="code hl_enumeration" href="namespacetrpc.html#a30ad6719274d32670d65731183e4db12">FilterPoint</a> point, <span class="keywordtype">int</span> index) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// max filter number is limited to 127</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    TRPC_ASSERT(index &lt;= std::numeric_limits&lt;int8_t&gt;::max());</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    extend_info_.filter_exec_index[(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(point) &amp; <a class="code hl_variable" href="namespacetrpc.html#a0a2c6e0dda991ab8f837c6568a2176a4">kServerFilterMask</a>) &gt;&gt; 1] = index;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  <span class="keywordtype">int</span> GetFilterExecIndex(<a class="code hl_enumeration" href="namespacetrpc.html#a30ad6719274d32670d65731183e4db12">FilterPoint</a> point) {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordflow">return</span> extend_info_.filter_exec_index[(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(point) &amp; <a class="code hl_variable" href="namespacetrpc.html#a0a2c6e0dda991ab8f837c6568a2176a4">kServerFilterMask</a>) &gt;&gt; 1];</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a314b87282a258a0555a4c08d1f3d834f">  200</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a314b87282a258a0555a4c08d1f3d834f">SetRequestMsg</a>(ProtocolPtr&amp;&amp; req) { req_msg_ = std::move(req); }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a607fd9d83fe97c95e9fba04b34769f5f">  203</a></span>  ProtocolPtr&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a607fd9d83fe97c95e9fba04b34769f5f">GetRequestMsg</a>() { <span class="keywordflow">return</span> req_msg_; }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#acca3620bdb961d32147a81cc1ff1da6c">  206</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#acca3620bdb961d32147a81cc1ff1da6c">SetResponseMsg</a>(ProtocolPtr&amp;&amp; rsp) { rsp_msg_ = std::move(rsp); }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab56f69747fd39b3c85502670a4a4f8ad">  209</a></span>  ProtocolPtr&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab56f69747fd39b3c85502670a4a4f8ad">GetResponseMsg</a>() { <span class="keywordflow">return</span> rsp_msg_; }</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a6235e36a7034b7b2694d7167f7bedae5">  213</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a6235e36a7034b7b2694d7167f7bedae5">SetRequestData</a>(<span class="keywordtype">void</span>* req) { req_data_ = req; }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a85a18b0c0970bc1229bcf09fb750a6ac">  216</a></span>  <span class="keywordtype">void</span>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#a85a18b0c0970bc1229bcf09fb750a6ac">GetRequestData</a>() { <span class="keywordflow">return</span> req_data_; }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ac192b6b233eecdbbf2dcbc5787e506d2">  220</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ac192b6b233eecdbbf2dcbc5787e506d2">SetResponseData</a>(<span class="keywordtype">void</span>* rsp) { rsp_data_ = rsp; }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a0efc04bdcdef70506e7bc4a0da72f1a7">  223</a></span>  <span class="keywordtype">void</span>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#a0efc04bdcdef70506e7bc4a0da72f1a7">GetResponseData</a>() { <span class="keywordflow">return</span> rsp_data_; }</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="preprocessor">#ifdef TRPC_PROTO_USE_ARENA</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  <span class="keywordtype">void</span> SetReqArenaObj(google::protobuf::Arena* req_arena) { req_arena_ = req_arena; }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  google::protobuf::Arena* GetReqArenaObj() { <span class="keywordflow">return</span> req_arena_; }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  <span class="keywordtype">void</span> SetRspArenaObj(google::protobuf::Arena* rsp_arena) { rsp_arena_ = rsp_arena; }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  google::protobuf::Arena* GetRspArenaObj() { <span class="keywordflow">return</span> rsp_arena_; }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <span class="keywordtype">void</span> SetRpcMethodHandler(RpcMethodHandlerInterface* method_handler) { rpc_method_handler_ = method_handler; }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  RpcMethodHandlerInterface* GetRpcMethodHandler() { <span class="keywordflow">return</span> rpc_method_handler_; }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#afa6160b3bf16ca1157d82725f3938132">  254</a></span>  <span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#afa6160b3bf16ca1157d82725f3938132">GetRequestAttachment</a>() { <span class="keywordflow">return</span> req_attachment_; }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a24a19b40927bfc1d3ce75c11672bd9ad">  257</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a24a19b40927bfc1d3ce75c11672bd9ad">SetRequestAttachment</a>(<a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>&amp;&amp; attachment) { req_attachment_ = std::move(attachment); }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="}">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a47e4f0f9be6d976ee5234d6246abe270">  260</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a47e4f0f9be6d976ee5234d6246abe270">SetResponseAttachment</a>(<a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>&amp;&amp; attachment) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    TRPC_ASSERT(rsp_msg_);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    rsp_msg_-&gt;SetProtocolAttachment(std::move(attachment));</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  }</div>
</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a473d78ebd3929fcf988b652933b1f7de">  266</a></span>  <span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a473d78ebd3929fcf988b652933b1f7de">GetStatus</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> status_; }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a473d78ebd3929fcf988b652933b1f7de">GetStatus</a>() { <span class="keywordflow">return</span> status_; }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#abcffa9137c6cf2196f95aeb8831b9682">  270</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#abcffa9137c6cf2196f95aeb8831b9682">SetStatus</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status) { status_ = status; }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#abcffa9137c6cf2196f95aeb8831b9682">SetStatus</a>(<a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp;&amp; status) { status_ = std::move(status); }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  uint32_t GetStreamId()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.stream_id; }</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  uint32_t SetStreamId(uint32_t stream_id) { <span class="keywordflow">return</span> invoke_info_.stream_id = stream_id; }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a787397d913cabc4e0e45cd381da1475e">  283</a></span>  std::string <a class="code hl_function" href="classtrpc_1_1_server_context.html#a787397d913cabc4e0e45cd381da1475e">GetCodecName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> codec_-&gt;<a class="code hl_function" href="classtrpc_1_1_server_codec.html#a8501fcc01bc1ac1688ddbb2dda9de365">Name</a>(); }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ac8929dfabcb10aa7e156702832a3c1d0">  286</a></span>  uint32_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#ac8929dfabcb10aa7e156702832a3c1d0">GetTimeout</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.timeout; }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="foldopen" id="foldopen00289" data-start="{" data-end="}">
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a4a124d1ec23a1009c23a4393f9899be8">  289</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a4a124d1ec23a1009c23a4393f9899be8">SetTimeout</a>(uint32_t timeout) {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">if</span> (timeout &gt; 0) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      invoke_info_.timeout = timeout;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  }</div>
</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a025828bcf759315249577732c778b514">  296</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a025828bcf759315249577732c778b514">IsUseFullLinkTimeout</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetStateFlag(kIsUseFulllinkTimeoutMask); }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ad3a9126c827a3fd8ba450930ad0df287">  299</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ad3a9126c827a3fd8ba450930ad0df287">SetIsUseFullLinkTimeout</a>(<span class="keywordtype">bool</span> use_fulllink) { <span class="keywordflow">return</span> SetStateFlag(use_fulllink, kIsUseFulllinkTimeoutMask); }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>  <span class="keywordtype">void</span> SetRealTimeout();</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a146efb42372d450fdb3869628116a35c">  307</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a146efb42372d450fdb3869628116a35c">GetCallType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.rpc_call_type; }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#af135b4305952e93517243888bcc9a0d5">  310</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#af135b4305952e93517243888bcc9a0d5">SetCallType</a>(uint8_t call_type) { invoke_info_.rpc_call_type = call_type; }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ac1f789eeab131334652366c594f04fd7">  313</a></span>  uint32_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#ac1f789eeab131334652366c594f04fd7">GetRequestId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.seq_id; }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#adb630f54dd49a2139079f7b1ff24cd5d">  316</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#adb630f54dd49a2139079f7b1ff24cd5d">SetRequestId</a>(uint32_t <span class="keywordtype">id</span>) { invoke_info_.seq_id = id; }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab635bc1efcc86f168bca0b16dde84f21">  319</a></span>  <span class="keyword">const</span> std::string&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab635bc1efcc86f168bca0b16dde84f21">GetCallerName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> req_msg_-&gt;GetCallerName(); }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a3759b415d2d159d3e65404ecd575b262">  322</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a3759b415d2d159d3e65404ecd575b262">SetCallerName</a>(std::string caller) { req_msg_-&gt;SetCallerName(std::move(caller)); }</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a75d2dbd1878330192f35f9109e6237e4">  325</a></span>  <span class="keyword">const</span> std::string&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a75d2dbd1878330192f35f9109e6237e4">GetCalleeName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> req_msg_-&gt;GetCalleeName(); }</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab4cd5d1bd36abc86c099a9db9181851c">  328</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab4cd5d1bd36abc86c099a9db9181851c">SetCalleeName</a>(std::string callee) { req_msg_-&gt;SetCalleeName(std::move(callee)); }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a6ce67955d3f5c22e75a079c7e9129a4e">  331</a></span>  <span class="keyword">const</span> std::string&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a6ce67955d3f5c22e75a079c7e9129a4e">GetFuncName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> req_msg_-&gt;GetFuncName(); }</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a1cae7436c3f15f0c2b5156a77ffeb306">  334</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a1cae7436c3f15f0c2b5156a77ffeb306">SetFuncName</a>(std::string func) { req_msg_-&gt;SetFuncName(std::move(func)); }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aa1d3758eb0bcb0a304a2081c35b6109f">  337</a></span>  uint32_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#aa1d3758eb0bcb0a304a2081c35b6109f">GetMessageType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.message_type; }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a9dfa1840a5ddd3761b5ac1700a2e6449">  340</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a9dfa1840a5ddd3761b5ac1700a2e6449">SetMessageType</a>(uint32_t msg_type) { invoke_info_.message_type = msg_type; }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a52a3b66b64408538a8e21ee413e62a32">  343</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a52a3b66b64408538a8e21ee413e62a32">GetReqEncodeType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.req_encode_type; }</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a58276d78a38df78b3f832616e5561b53">  346</a></span>  [[deprecated(<span class="stringliteral">&quot;Use GetReqEncodeType instead&quot;</span>)]] uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a58276d78a38df78b3f832616e5561b53">GetEncodeType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a52a3b66b64408538a8e21ee413e62a32">GetReqEncodeType</a>(); }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ac9596ab79934419f891d92848375298b">  349</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ac9596ab79934419f891d92848375298b">SetReqEncodeType</a>(uint8_t type) { invoke_info_.req_encode_type = type; }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a34f246b518dd478eac564cad2fe91bbb">  352</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a34f246b518dd478eac564cad2fe91bbb">SetReqCompressType</a>(uint8_t compress_type) { invoke_info_.req_compress_type = compress_type; }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ae9e20f4a6fe6e90fc14043e03e876c0c">  355</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae9e20f4a6fe6e90fc14043e03e876c0c">GetReqCompressType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.req_compress_type; }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a0a8874f7906a426291818644c160757a">  357</a></span>  [[deprecated(<span class="stringliteral">&quot;use GetReqCompressType instead&quot;</span>)]] uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a0a8874f7906a426291818644c160757a">GetCompressType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae9e20f4a6fe6e90fc14043e03e876c0c">GetReqCompressType</a>(); }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ae27c5150bf99a5214ad8dfa2660b822d">  360</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae27c5150bf99a5214ad8dfa2660b822d">SetRspCompressType</a>(uint8_t compress_type) { invoke_info_.rsp_compress_type = compress_type; }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a167802a008053862b81d8366565ae938">  363</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a167802a008053862b81d8366565ae938">GetRspCompressType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.rsp_compress_type; }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#af71184e81840cea9522053e8f7ca864e">  366</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#af71184e81840cea9522053e8f7ca864e">SetRspCompressLevel</a>(uint8_t compress_level) { invoke_info_.rsp_compress_level = compress_level; }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a9c58621b516dd65de33ff15f410ffdf5">  369</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a9c58621b516dd65de33ff15f410ffdf5">GetRspCompressLevel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.rsp_compress_level; }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a167cfbd47aa7ae3384d002f317ff8879">  372</a></span>  uint8_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a167cfbd47aa7ae3384d002f317ff8879">GetRspEncodeType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.rsp_encode_type; }</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a5ba6a64418080c520d0af1d83e9f47c8">  375</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5ba6a64418080c520d0af1d83e9f47c8">SetRspEncodeType</a>(uint8_t encode_type) { invoke_info_.rsp_encode_type = encode_type; }</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a35fe5545cefb6cc9959340a3ed614be3">  378</a></span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespacetrpc.html#ab6001925f1a00ab41ddb779f784002b4">TransInfoMap</a>&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a35fe5545cefb6cc9959340a3ed614be3">GetPbReqTransInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *(req_msg_-&gt;GetMutableKVInfos()); }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a9a8dedcf934cf69d0efb7e009684fdde">  381</a></span>  <a class="code hl_typedef" href="namespacetrpc.html#ab6001925f1a00ab41ddb779f784002b4">TransInfoMap</a>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#a9a8dedcf934cf69d0efb7e009684fdde">GetMutablePbReqTransInfo</a>() { <span class="keywordflow">return</span> req_msg_-&gt;GetMutableKVInfos(); }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ad0c1a26331e3d1ffe28386ac24852540">  384</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ad0c1a26331e3d1ffe28386ac24852540">AddReqTransInfo</a>(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> std::string&amp; value) { req_msg_-&gt;SetKVInfo(key, value); }</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a617642a7ce6a1fc6989521264b4c9b3c">  387</a></span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespacetrpc.html#ab6001925f1a00ab41ddb779f784002b4">TransInfoMap</a>&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a617642a7ce6a1fc6989521264b4c9b3c">GetPbRspTransInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> rsp_msg_-&gt;GetKVInfos(); }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aa89b63ceb3c3254d157d85b039067f84">  390</a></span>  <a class="code hl_typedef" href="namespacetrpc.html#ab6001925f1a00ab41ddb779f784002b4">TransInfoMap</a>* <a class="code hl_function" href="classtrpc_1_1_server_context.html#aa89b63ceb3c3254d157d85b039067f84">GetMutablePbRspTransInfo</a>() { <span class="keywordflow">return</span> rsp_msg_-&gt;GetMutableKVInfos(); }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a5d5b0bbea2bb4ad69d28337e26d34f1b">  393</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5d5b0bbea2bb4ad69d28337e26d34f1b">AddRspTransInfo</a>(std::string key, std::string value) { rsp_msg_-&gt;SetKVInfo(std::move(key), std::move(value)); }</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> InputIt&gt;</div>
<div class="foldopen" id="foldopen00397" data-start="{" data-end="}">
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a63a6859dfc60547bc644d5cfbf5cbd4f">  397</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a63a6859dfc60547bc644d5cfbf5cbd4f">SetRspTransInfo</a>(InputIt first, InputIt last) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    TRPC_ASSERT(rsp_msg_);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    InputIt it = first;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordflow">while</span> (it != last) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      rsp_msg_-&gt;SetKVInfo(std::move(it-&gt;first), std::move(it-&gt;second));</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      ++it;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>  }</div>
</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a5064f6021180c40411899587dfba42ed">  408</a></span>  uint32_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5064f6021180c40411899587dfba42ed">GetReqMsgSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> req_msg_-&gt;GetMessageSize(); }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a3628f1ab8fd8468196165e2e04e1af5e">  411</a></span>  uint32_t <a class="code hl_function" href="classtrpc_1_1_server_context.html#a3628f1ab8fd8468196165e2e04e1af5e">GetRspMsgSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> rsp_msg_-&gt;GetMessageSize(); }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  uint32_t GetRequestLength()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a5064f6021180c40411899587dfba42ed">GetReqMsgSize</a>(); }</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="keywordtype">bool</span> CheckHandleTimeout();</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab578c0a89813008131f360368c9ab37d">  422</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab578c0a89813008131f360368c9ab37d">IsDyeingMessage</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab87453b31cbf74224a212ab26367461b">  425</a></span>  std::string <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab87453b31cbf74224a212ab26367461b">GetDyeingKey</a>();</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a366777e13bb302be4d3dcf84f8fa9d43">  428</a></span>  std::string <a class="code hl_function" href="classtrpc_1_1_server_context.html#a366777e13bb302be4d3dcf84f8fa9d43">GetDyeingKey</a>(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a463b439744c533d60b567fdb84423801">  431</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a463b439744c533d60b567fdb84423801">SetDyeingKey</a>(<span class="keyword">const</span> std::string&amp; value);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a463b439744c533d60b567fdb84423801">SetDyeingKey</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; value);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00440" data-start="{" data-end="}">
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a6fb6df9a4777676bdf533a176f20d52c">  440</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a6fb6df9a4777676bdf533a176f20d52c">SetFilterData</a>(uint32_t <span class="keywordtype">id</span>, T&amp;&amp; filter_data) {</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    std::any data = std::forward&lt;T&gt;(filter_data);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    extend_info_.filter_data.emplace(std::make_pair(<span class="keywordtype">id</span>, std::move(data)));</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  }</div>
</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00451" data-start="{" data-end="}">
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ae3d389cfcaf75a687cb9c3fa1124f543">  451</a></span>  T* <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae3d389cfcaf75a687cb9c3fa1124f543">GetFilterData</a>(uint32_t <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="keyword">auto</span> it = extend_info_.filter_data.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">if</span> (it != extend_info_.filter_data.end()) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      <span class="keywordflow">return</span> std::any_cast&lt;T&gt;(&amp;(it-&gt;second));</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>  }</div>
</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a49619817c5f05983262cb9d05d88787d">  460</a></span>  std::unordered_map&lt;uint32_t, std::any&gt;&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#a49619817c5f05983262cb9d05d88787d">GetAllFilterData</a>() { <span class="keywordflow">return</span> extend_info_.filter_data; }</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a49b87c2a1c2fdb6466e7245b48c211bd">  466</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a49b87c2a1c2fdb6466e7245b48c211bd">SetResponse</a>(<span class="keywordtype">bool</span> is_response) { SetStateFlag(is_response, kIsResponseMask); }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ad37961f794c73de9ee4246e233da52b4">  469</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ad37961f794c73de9ee4246e233da52b4">IsResponse</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetStateFlag(kIsResponseMask); }</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a835ee765fb821f0ba758d5670df9a2b6">  473</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a835ee765fb821f0ba758d5670df9a2b6">SetResponseWhenDecodeFail</a>(<span class="keywordtype">bool</span> need_response) { SetStateFlag(need_response, kNeedResponseWhenDecodeFailMask); }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#afc0c109d906e5e377adae76341aff1bc">  477</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#afc0c109d906e5e377adae76341aff1bc">NeedResponseWhenDecodeFail</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetStateFlag(kNeedResponseWhenDecodeFailMask); }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a70f0562c48bd6dd00d77b1917893da7f">  481</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a70f0562c48bd6dd00d77b1917893da7f">IsHttpRequest</a>() { <span class="keywordflow">return</span> GetStateFlag(kTrpcHttpProtocolMask); }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a465efd4830d2d63085be72c67ff284c4">  485</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a465efd4830d2d63085be72c67ff284c4">SetIsHttpRequest</a>() { <span class="keywordflow">return</span> SetStateFlag(<span class="keyword">true</span>, kTrpcHttpProtocolMask); }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a8bb19de6eec01203ea11049b4fec3c72">  489</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a8bb19de6eec01203ea11049b4fec3c72">SetUserData</a>(<span class="keyword">const</span> std::any&amp; data) { extend_info_.user_data = data; }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a8bb19de6eec01203ea11049b4fec3c72">SetUserData</a>(std::any&amp;&amp; data) { extend_info_.user_data = std::move(data); }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#acaee46e7413f31be78fea6e5df1988ed">  493</a></span>  <span class="keyword">const</span> std::any&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#acaee46e7413f31be78fea6e5df1988ed">GetUserData</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> extend_info_.user_data; }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  std::any&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#acaee46e7413f31be78fea6e5df1988ed">GetUserData</a>() { <span class="keywordflow">return</span> extend_info_.user_data; }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="foldopen" id="foldopen00498" data-start="{" data-end="}">
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ae7aff94a058bfccbee5091cecf61f2b2">  498</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ae7aff94a058bfccbee5091cecf61f2b2">SetStreamReaderWriterProvider</a>(stream::StreamReaderWriterProviderPtr&amp;&amp; stream_provider) {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    invoke_info_.stream_provider_ = std::move(stream_provider);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>  }</div>
</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="foldopen" id="foldopen00504" data-start="{" data-end="}">
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#af6f85e78907d7e99eacc5f3ddb3e4893">  504</a></span>  stream::StreamReaderWriterProviderPtr <a class="code hl_function" href="classtrpc_1_1_server_context.html#af6f85e78907d7e99eacc5f3ddb3e4893">GetStreamReaderWriterProvider</a>() {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">return</span> std::move(invoke_info_.stream_provider_);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  }</div>
</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00515" data-start="{" data-end="}">
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">  515</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, T&amp; biz_rsp) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_convertible_v&lt;T*, google::protobuf::Message*&gt;) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>      <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(status, <span class="keyword">static_cast&lt;</span>google::protobuf::Message*<span class="keyword">&gt;</span>(&amp;biz_rsp));</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_convertible_v&lt;T*, rapidjson::Document*&gt;) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>      <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(status, <span class="keyword">static_cast&lt;</span>rapidjson::Document*<span class="keyword">&gt;</span>(&amp;biz_rsp));</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_convertible_v&lt;T*, flatbuffers::trpc::MessageFbs*&gt;) {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>      <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(status, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classflatbuffers_1_1trpc_1_1_message_fbs.html">flatbuffers::trpc::MessageFbs</a>*<span class="keyword">&gt;</span>(&amp;biz_rsp));</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_convertible_v&lt;T*, NoncontiguousBuffer*&gt;) {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>      <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(status, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>*<span class="keyword">&gt;</span>(&amp;biz_rsp));</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_convertible_v&lt;T*, std::string*&gt;) {</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>      <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(status, <span class="keyword">static_cast&lt;</span>std::string*<span class="keyword">&gt;</span>(&amp;biz_rsp));</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>      TRPC_LOG_ERROR(<span class="stringliteral">&quot;T type is not support&quot;</span>);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>      TRPC_ASSERT(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    }</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  }</div>
</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab9f8bb88e0d6e613a5716aab8dea46c8">  538</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab9f8bb88e0d6e613a5716aab8dea46c8">SendTransparentResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, <a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>&amp;&amp; bin_rsp);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab663206d6ffd0338ff0adfd21118856d">  545</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab663206d6ffd0338ff0adfd21118856d">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a9181906acc0efd253df989a3b836555d">  552</a></span>  <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a9181906acc0efd253df989a3b836555d">SendResponse</a>(<a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>&amp;&amp; buffer);</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a21f09c7d55822d46326698d619d25e32">  557</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a21f09c7d55822d46326698d619d25e32">SetLogKVPair</a>(uint32_t filter_id, std::pair&lt;std::string, std::string&gt; kv);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#aa0cd4d11a5c71b6caac27c272eba206c">  562</a></span>  std::string <a class="code hl_function" href="classtrpc_1_1_server_context.html#aa0cd4d11a5c71b6caac27c272eba206c">GetLogFieldValue</a>(uint32_t filter_id, <span class="keyword">const</span> std::string&amp; key);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a7b9a093d47e12c5d89d123693f9bc471">  565</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a7b9a093d47e12c5d89d123693f9bc471">IsConnected</a>();</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>  <span class="keywordtype">void</span> CloseConnection();</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab71a2e02284de3678f3138235f373fa8">  593</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab71a2e02284de3678f3138235f373fa8">ThrottleConnection</a>(<span class="keywordtype">bool</span> set);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#ab2b1316aace31f0c1ba243f0bb6bfa5d">  596</a></span>  std::function&lt;void()&gt;&amp; <a class="code hl_function" href="classtrpc_1_1_server_context.html#ab2b1316aace31f0c1ba243f0bb6bfa5d">GetSendMsgCallback</a>() { <span class="keywordflow">return</span> extend_info_.send_msg_callback; }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno"><a class="line" href="classtrpc_1_1_server_context.html#a33a4414e974e5f369c66994541afe23a">  599</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a33a4414e974e5f369c66994541afe23a">SetSendMsgCallback</a>(std::function&lt;<span class="keywordtype">void</span>()&gt;&amp;&amp; callback) { extend_info_.send_msg_callback = std::move(callback); }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, google::protobuf::Message* pb);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, <a class="code hl_class" href="classflatbuffers_1_1trpc_1_1_message_fbs.html">flatbuffers::trpc::MessageFbs</a>* fbs);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, rapidjson::Document* json);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, <a class="code hl_class" href="classtrpc_1_1_noncontiguous_buffer.html">NoncontiguousBuffer</a>* buffer);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, std::string* str);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span> </div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>  <span class="comment">// Implementation of asynchronous packet return on the server side</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">SendUnaryResponse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_status.html">Status</a>&amp; status, <span class="keywordtype">void</span>* rsp_data, <a class="code hl_typedef" href="namespacetrpc_1_1serialization.html#a50b82436a989242219062c1136c251b0">serialization::DataType</a> type);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <span class="keywordtype">void</span> SetStateFlag(<span class="keywordtype">bool</span> flag, uint8_t mask) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>      invoke_info_.state_flag |= mask;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>      invoke_info_.state_flag &amp;= ~mask;</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    }</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>  }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span> </div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <span class="keywordtype">bool</span> GetStateFlag(uint8_t mask)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> invoke_info_.state_flag &amp; mask; }</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="keywordtype">void</span> HandleEncodeErrorResponse(std::string&amp;&amp; err_msg);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> uint8_t kIsResponseMask = 0b00000001;</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> uint8_t kNeedResponseWhenDecodeFailMask = 0b00000010;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> uint8_t kIsUseFulllinkTimeoutMask = 0b00000100;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> uint8_t kTrpcHttpProtocolMask = 0b00001000;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  <span class="keyword">struct </span><span class="keyword">alignas</span>(8) NetInfo {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    uint64_t connection_id{0};</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    std::string ip;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span> </div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="keywordtype">int</span> fd{-1};</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    int16_t port{0};</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <a class="code hl_enumeration" href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">NetType</a> type;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span> </div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <span class="keywordtype">void</span>* reserved{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>  };</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>  <span class="keyword">struct </span><span class="keyword">alignas</span>(8) InvokeInfo {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="comment">// request unique id</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    uint32_t seq_id{0};</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="comment">// stream id</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    uint32_t stream_id{0};</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="comment">// request timeout(ms)</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    uint32_t timeout{UINT32_MAX};</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span> </div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="comment">// use bits to represent some status flags in the request processing process,</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="comment">// from low to high in order:</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="comment">// 1. after the rpc interface processing is completed,</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="comment">//    whether the framework actively returns the packet(default enable)</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="comment">//    use kIsResponseMask</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="comment">// 2. whether to reply a response after the request decode fails(default disable)</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="comment">//    eg: When the trpc protocol parsing request fails,</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="comment">//        there is no need to reply, because the unique id of the request is not known</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    <span class="comment">//    http protocol enabled</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="comment">//    use kNeedResponseWhenDecodeFailMask</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="comment">// 3. Whether the value of timeout is the full link timeout time(default disable)</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="comment">//    if protocol has timeout field, enable</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="comment">//    use kIsUseFulllinkTimeoutMask</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    <span class="comment">// 4. Identifies the actual protocol is `trpc` or `http` when codec is `trpc_http` (0 by default, means `trpc`).</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="comment">// 5. 6. 7. ....other more flags to be set</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    uint8_t state_flag = 0b00000001;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="comment">// rpc call type</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    uint8_t rpc_call_type{0};</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">// request message type</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    uint32_t message_type{0};</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="comment">// request encode type, default(0) is pb</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    uint8_t req_encode_type{0};</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span> </div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="comment">// request data encode type, default(0) is pb data-struct</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    uint8_t req_encode_data_type{0};</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span> </div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="comment">// response encode type, default(0) is pb</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    uint8_t rsp_encode_type{0};</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="comment">// response data encode type, default(0) is pb data-struct</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    uint8_t rsp_encode_data_type{0};</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="comment">// request data compress type</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    uint8_t req_compress_type{<a class="code hl_variable" href="namespacetrpc_1_1compressor.html#a593d622b5b778673392d66be44a61901">compressor::kNone</a>};</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="comment">// response data compress type</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    uint8_t rsp_compress_type{<a class="code hl_variable" href="namespacetrpc_1_1compressor.html#a593d622b5b778673392d66be44a61901">compressor::kNone</a>};</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="comment">// response data compress level</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    uint8_t rsp_compress_level{<a class="code hl_variable" href="namespacetrpc_1_1compressor.html#ab9e6c9b81e6d5a6ec6aea8cb35407ded">compressor::kDefault</a>};</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="comment">// Reader or writer of streaming RPC.</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    stream::StreamReaderWriterProviderPtr stream_provider_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  };</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span> </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  <span class="keyword">struct </span><span class="keyword">alignas</span>(8) MetricsInfo {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="comment">// the time(us) when the current request is received from the network</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    uint64_t recv_timestamp_us = 0;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="comment">// the time(us) when the current request starts processing</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    uint64_t begin_timestamp_us = 0;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="comment">// the time(us) when the current request processing is completed</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    uint64_t end_timestamp_us = 0;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="comment">// the time(us) when the response data corresponding to the current request is sent</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    uint64_t send_timestamp_us = 0;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>  };</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span> </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  <span class="keyword">struct </span><span class="keyword">alignas</span>(8) ExtendInfo {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <span class="comment">// filter controller, not owned.</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    ServerFilterController* filter_controller{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <span class="comment">// the data structure associated with a specific filter</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <span class="comment">// key is filter id</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    <span class="comment">// value is filter data structure</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    std::unordered_map&lt;uint32_t, std::any&gt; filter_data;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span> </div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <span class="comment">// This is used to store the index of the filter that has been executed for a certain pre-tracking point.</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="comment">// The initial value is -1, which indicates that no filter has been executed.</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    int8_t filter_exec_index[kFilterTypeNum / 2] = {-1, -1, -1, -1, -1};</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="comment">// user-defined data</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="comment">// saving some data structures associated with the current request</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    std::any user_data;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    std::function&lt;void()&gt; send_msg_callback{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  };</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <span class="comment">// not owned</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  Service* service_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="comment">// not owned</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  ServerCodec* codec_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  <span class="comment">// request</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  ProtocolPtr req_msg_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  <span class="comment">// response</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  ProtocolPtr rsp_msg_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>  <span class="comment">// rpc method handler, use to destroy req_data_/rsp_data_</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  RpcMethodHandlerInterface* rpc_method_handler_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  <span class="comment">// user request data, eg: rpc request protobuf struct</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>  <span class="keywordtype">void</span>* req_data_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  <span class="comment">// user response data, eg: rpc request protobuf struct</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  <span class="keywordtype">void</span>* rsp_data_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="preprocessor">#ifdef TRPC_PROTO_USE_ARENA</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  google::protobuf::Arena* req_arena_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  google::protobuf::Arena* rsp_arena_{<span class="keyword">nullptr</span>};</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="comment">// request attachment data</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>  NoncontiguousBuffer req_attachment_;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  Status status_;</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span> </div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  NetInfo net_info_;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  InvokeInfo invoke_info_;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  MetricsInfo metrics_info_;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>  ExtendInfo extend_info_;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>};</div>
</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span><span class="keyword">using </span>ServerContextPtr = RefPtr&lt;ServerContext&gt;;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span><span class="keyword">using </span>is_server_context = std::is_same&lt;T, ServerContext&gt;;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno"><a class="line" href="namespacetrpc.html#a5b49ff60cf45fbb6ec2e6d853a8b1bf7">  793</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacetrpc.html#a5b49ff60cf45fbb6ec2e6d853a8b1bf7">SetLocalServerContext</a>(<span class="keyword">const</span> <a class="code hl_class" href="classtrpc_1_1_ref_ptr.html">ServerContextPtr</a>&amp; context);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno"><a class="line" href="namespacetrpc.html#a95e66df12b5ba86d583b735a21cc48b9">  797</a></span><a class="code hl_class" href="classtrpc_1_1_ref_ptr.html">ServerContextPtr</a> <a class="code hl_function" href="namespacetrpc.html#a95e66df12b5ba86d583b735a21cc48b9">GetLocalServerContext</a>();</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>}  <span class="comment">// namespace trpc</span></div>
<div class="ttc" id="aclassflatbuffers_1_1trpc_1_1_message_fbs_html"><div class="ttname"><a href="classflatbuffers_1_1trpc_1_1_message_fbs.html">flatbuffers::trpc::MessageFbs</a></div><div class="ttdoc">The base class of message used by flat-buffers.</div><div class="ttdef"><b>Definition</b> message_fbs.h:24</div></div>
<div class="ttc" id="aclasstrpc_1_1_noncontiguous_buffer_html"><div class="ttname"><a href="classtrpc_1_1_noncontiguous_buffer.html">trpc::NoncontiguousBuffer</a></div><div class="ttdoc">Implementation of contiguous buffer NoncontiguousBuffer is composed of multiple contiguous memory blo...</div><div class="ttdef"><b>Definition</b> noncontiguous_buffer.h:321</div></div>
<div class="ttc" id="aclasstrpc_1_1_ref_counted_html"><div class="ttname"><a href="classtrpc_1_1_ref_counted.html">trpc::RefCounted</a></div><div class="ttdef"><b>Definition</b> ref_ptr.h:64</div></div>
<div class="ttc" id="aclasstrpc_1_1_ref_ptr_html"><div class="ttname"><a href="classtrpc_1_1_ref_ptr.html">trpc::RefPtr</a></div><div class="ttdef"><b>Definition</b> ref_ptr.h:195</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_codec_html"><div class="ttname"><a href="classtrpc_1_1_server_codec.html">trpc::ServerCodec</a></div><div class="ttdoc">An interface (server-side) representing the ability to decode request message and encode response mes...</div><div class="ttdef"><b>Definition</b> server_codec.h:33</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_codec_html_a8501fcc01bc1ac1688ddbb2dda9de365"><div class="ttname"><a href="classtrpc_1_1_server_codec.html#a8501fcc01bc1ac1688ddbb2dda9de365">trpc::ServerCodec::Name</a></div><div class="ttdeci">virtual std::string Name() const =0</div><div class="ttdoc">Returns name of codec.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html"><div class="ttname"><a href="classtrpc_1_1_server_context.html">trpc::ServerContext</a></div><div class="ttdoc">Context class for server-side request processing, use MakeServerContext to create it.</div><div class="ttdef"><b>Definition</b> server_context.h:53</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a025828bcf759315249577732c778b514"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a025828bcf759315249577732c778b514">trpc::ServerContext::IsUseFullLinkTimeout</a></div><div class="ttdeci">bool IsUseFullLinkTimeout() const</div><div class="ttdoc">Whether the server timeout time is the full link timeout time.</div><div class="ttdef"><b>Definition</b> server_context.h:296</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a02dde5777fdb3962874060ed14a23a59"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a02dde5777fdb3962874060ed14a23a59">trpc::ServerContext::HasFilterController</a></div><div class="ttdeci">bool HasFilterController()</div><div class="ttdoc">Check if the FilterController has been set.</div><div class="ttdef"><b>Definition</b> server_context.h:176</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a0a8874f7906a426291818644c160757a"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a0a8874f7906a426291818644c160757a">trpc::ServerContext::GetCompressType</a></div><div class="ttdeci">uint8_t GetCompressType() const</div><div class="ttdoc">Deprecated: use GetReqCompressType instead.</div><div class="ttdef"><b>Definition</b> server_context.h:357</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a0efc04bdcdef70506e7bc4a0da72f1a7"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a0efc04bdcdef70506e7bc4a0da72f1a7">trpc::ServerContext::GetResponseData</a></div><div class="ttdeci">void * GetResponseData()</div><div class="ttdoc">Get set user response data struct.</div><div class="ttdef"><b>Definition</b> server_context.h:223</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a146efb42372d450fdb3869628116a35c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a146efb42372d450fdb3869628116a35c">trpc::ServerContext::GetCallType</a></div><div class="ttdeci">uint8_t GetCallType() const</div><div class="ttdoc">Get the call type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:307</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a15fefb10e0598f1098059fd1a58b9021"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a15fefb10e0598f1098059fd1a58b9021">trpc::ServerContext::GetNetType</a></div><div class="ttdeci">NetType GetNetType() const</div><div class="ttdoc">Get the network type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:111</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a167802a008053862b81d8366565ae938"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a167802a008053862b81d8366565ae938">trpc::ServerContext::GetRspCompressType</a></div><div class="ttdeci">uint8_t GetRspCompressType() const</div><div class="ttdoc">Get the compression type for decompressing response message.</div><div class="ttdef"><b>Definition</b> server_context.h:363</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a167cfbd47aa7ae3384d002f317ff8879"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a167cfbd47aa7ae3384d002f317ff8879">trpc::ServerContext::GetRspEncodeType</a></div><div class="ttdeci">uint8_t GetRspEncodeType() const</div><div class="ttdoc">Get the encoding type of response body.</div><div class="ttdef"><b>Definition</b> server_context.h:372</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a1cae7436c3f15f0c2b5156a77ffeb306"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a1cae7436c3f15f0c2b5156a77ffeb306">trpc::ServerContext::SetFuncName</a></div><div class="ttdeci">void SetFuncName(std::string func)</div><div class="ttdoc">Framework use or for testing. Set the function name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:334</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a2196ef58faa0d2b29e54390beae0b263"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a2196ef58faa0d2b29e54390beae0b263">trpc::ServerContext::SetService</a></div><div class="ttdeci">void SetService(Service *service)</div><div class="ttdoc">Framework use or for testing. Set the service which the current request belongs to.</div><div class="ttdef"><b>Definition</b> server_context.h:153</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a21f09c7d55822d46326698d619d25e32"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a21f09c7d55822d46326698d619d25e32">trpc::ServerContext::SetLogKVPair</a></div><div class="ttdeci">void SetLogKVPair(uint32_t filter_id, std::pair&lt; std::string, std::string &gt; kv)</div><div class="ttdoc">Set the remote log field information in the context extension.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a23120f91f8fb35d28c82d453fe1ced6e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a23120f91f8fb35d28c82d453fe1ced6e">trpc::ServerContext::SetFd</a></div><div class="ttdeci">void SetFd(int fd)</div><div class="ttdoc">Framework use or for testing. Set the socket fd of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:140</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a232cf98207d66a6fa2c2021652a6c6d3"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a232cf98207d66a6fa2c2021652a6c6d3">trpc::ServerContext::GetFilterController</a></div><div class="ttdeci">ServerFilterController &amp; GetFilterController()</div><div class="ttdoc">Get filter controller.</div><div class="ttdef"><b>Definition</b> server_context.h:170</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a24a19b40927bfc1d3ce75c11672bd9ad"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a24a19b40927bfc1d3ce75c11672bd9ad">trpc::ServerContext::SetRequestAttachment</a></div><div class="ttdeci">void SetRequestAttachment(NoncontiguousBuffer &amp;&amp;attachment)</div><div class="ttdoc">Framework use or for testing. Set request attachment data.</div><div class="ttdef"><b>Definition</b> server_context.h:257</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a26a43416d811be9b9aa4e9a2df033573"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a26a43416d811be9b9aa4e9a2df033573">trpc::ServerContext::GetFd</a></div><div class="ttdeci">int GetFd() const</div><div class="ttdoc">Get the socket fd of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:137</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a2af2b8ebd1b95e59af0c351a618307bb"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a2af2b8ebd1b95e59af0c351a618307bb">trpc::ServerContext::GetRecvTimestampUs</a></div><div class="ttdeci">uint64_t GetRecvTimestampUs() const</div><div class="ttdoc">Get the time(us) when the current request is received from the network.</div><div class="ttdef"><b>Definition</b> server_context.h:74</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a2efc6a5e546ad7bd2d3d04429b3c4ff2"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a2efc6a5e546ad7bd2d3d04429b3c4ff2">trpc::ServerContext::SetIp</a></div><div class="ttdeci">void SetIp(std::string &amp;&amp;ip)</div><div class="ttdoc">Framework use or for testing. Set the peer ip of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:128</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a314b87282a258a0555a4c08d1f3d834f"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a314b87282a258a0555a4c08d1f3d834f">trpc::ServerContext::SetRequestMsg</a></div><div class="ttdeci">void SetRequestMsg(ProtocolPtr &amp;&amp;req)</div><div class="ttdoc">Framework use or for testing. Set the protocol request message for the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:200</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a33a4414e974e5f369c66994541afe23a"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a33a4414e974e5f369c66994541afe23a">trpc::ServerContext::SetSendMsgCallback</a></div><div class="ttdeci">void SetSendMsgCallback(std::function&lt; void()&gt; &amp;&amp;callback)</div><div class="ttdoc">Set callback function after send response msg done.</div><div class="ttdef"><b>Definition</b> server_context.h:599</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a34f246b518dd478eac564cad2fe91bbb"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a34f246b518dd478eac564cad2fe91bbb">trpc::ServerContext::SetReqCompressType</a></div><div class="ttdeci">void SetReqCompressType(uint8_t compress_type)</div><div class="ttdoc">Framework use or for testing. Set the compression type of request data.</div><div class="ttdef"><b>Definition</b> server_context.h:352</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a35fe5545cefb6cc9959340a3ed614be3"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a35fe5545cefb6cc9959340a3ed614be3">trpc::ServerContext::GetPbReqTransInfo</a></div><div class="ttdeci">const TransInfoMap &amp; GetPbReqTransInfo() const</div><div class="ttdoc">Get the transparent transmission information of the request.</div><div class="ttdef"><b>Definition</b> server_context.h:378</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a3628f1ab8fd8468196165e2e04e1af5e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a3628f1ab8fd8468196165e2e04e1af5e">trpc::ServerContext::GetRspMsgSize</a></div><div class="ttdeci">uint32_t GetRspMsgSize() const</div><div class="ttdoc">Get the size of the response corresponding to the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:411</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a366777e13bb302be4d3dcf84f8fa9d43"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a366777e13bb302be4d3dcf84f8fa9d43">trpc::ServerContext::GetDyeingKey</a></div><div class="ttdeci">std::string GetDyeingKey(const std::string &amp;name)</div><div class="ttdoc">Get the dye key by name.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a3759b415d2d159d3e65404ecd575b262"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a3759b415d2d159d3e65404ecd575b262">trpc::ServerContext::SetCallerName</a></div><div class="ttdeci">void SetCallerName(std::string caller)</div><div class="ttdoc">Set the caller name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:322</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a379d242ca051a1496856fadd31e4fb29"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a379d242ca051a1496856fadd31e4fb29">trpc::ServerContext::GetServerCodec</a></div><div class="ttdeci">ServerCodec * GetServerCodec()</div><div class="ttdoc">Get the codec which the current request use.</div><div class="ttdef"><b>Definition</b> server_context.h:162</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a463b439744c533d60b567fdb84423801"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a463b439744c533d60b567fdb84423801">trpc::ServerContext::SetDyeingKey</a></div><div class="ttdeci">void SetDyeingKey(const std::string &amp;value)</div><div class="ttdoc">Set the dye key of the request.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a465efd4830d2d63085be72c67ff284c4"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a465efd4830d2d63085be72c67ff284c4">trpc::ServerContext::SetIsHttpRequest</a></div><div class="ttdeci">void SetIsHttpRequest()</div><div class="ttdoc">Used to identify a request as using the HTTP protocol.</div><div class="ttdef"><b>Definition</b> server_context.h:485</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a473d78ebd3929fcf988b652933b1f7de"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a473d78ebd3929fcf988b652933b1f7de">trpc::ServerContext::GetStatus</a></div><div class="ttdeci">const Status &amp; GetStatus() const</div><div class="ttdoc">Get the last execution result of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:266</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a47e4f0f9be6d976ee5234d6246abe270"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a47e4f0f9be6d976ee5234d6246abe270">trpc::ServerContext::SetResponseAttachment</a></div><div class="ttdeci">void SetResponseAttachment(NoncontiguousBuffer &amp;&amp;attachment)</div><div class="ttdoc">Set response attachment data.</div><div class="ttdef"><b>Definition</b> server_context.h:260</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a49619817c5f05983262cb9d05d88787d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a49619817c5f05983262cb9d05d88787d">trpc::ServerContext::GetAllFilterData</a></div><div class="ttdeci">std::unordered_map&lt; uint32_t, std::any &gt; &amp; GetAllFilterData()</div><div class="ttdoc">Get the filter data for all filter Settings.</div><div class="ttdef"><b>Definition</b> server_context.h:460</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a49b87c2a1c2fdb6466e7245b48c211bd"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a49b87c2a1c2fdb6466e7245b48c211bd">trpc::ServerContext::SetResponse</a></div><div class="ttdeci">void SetResponse(bool is_response)</div><div class="ttdoc">Set the flag of whether the framework actively returns packet.</div><div class="ttdef"><b>Definition</b> server_context.h:466</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a4a124d1ec23a1009c23a4393f9899be8"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a4a124d1ec23a1009c23a4393f9899be8">trpc::ServerContext::SetTimeout</a></div><div class="ttdeci">void SetTimeout(uint32_t timeout)</div><div class="ttdoc">Framework use or for testing. Set the timeout of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:289</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a4a5962ad86a3eb266320a00525cd7aec"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a4a5962ad86a3eb266320a00525cd7aec">trpc::ServerContext::GetSendTimestampUs</a></div><div class="ttdeci">uint64_t GetSendTimestampUs() const</div><div class="ttdoc">Get the time(us) when the response data corresponding to the current request is sent.</div><div class="ttdef"><b>Definition</b> server_context.h:99</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a5064f6021180c40411899587dfba42ed"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a5064f6021180c40411899587dfba42ed">trpc::ServerContext::GetReqMsgSize</a></div><div class="ttdeci">uint32_t GetReqMsgSize() const</div><div class="ttdoc">Get the size of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:408</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a5097405e1c0ae8433e4821cc2014fc9e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a5097405e1c0ae8433e4821cc2014fc9e">trpc::ServerContext::GetBeginTimestampUs</a></div><div class="ttdeci">uint64_t GetBeginTimestampUs() const</div><div class="ttdoc">Get the time(us) when the current request starts processing (before user data is decoded).</div><div class="ttdef"><b>Definition</b> server_context.h:82</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a52a3b66b64408538a8e21ee413e62a32"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a52a3b66b64408538a8e21ee413e62a32">trpc::ServerContext::GetReqEncodeType</a></div><div class="ttdeci">uint8_t GetReqEncodeType() const</div><div class="ttdoc">Get the encoding type of request data.</div><div class="ttdef"><b>Definition</b> server_context.h:343</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a52af85a7674ac52462f42b4d05e90481"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a52af85a7674ac52462f42b4d05e90481">trpc::ServerContext::SetSendTimestampUs</a></div><div class="ttdeci">void SetSendTimestampUs(uint64_t value)</div><div class="ttdoc">Framework use or for testing.</div><div class="ttdef"><b>Definition</b> server_context.h:95</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a533c526012a65c1e7e0ff5017ffcab5d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a533c526012a65c1e7e0ff5017ffcab5d">trpc::ServerContext::GetEndTimestampUs</a></div><div class="ttdeci">uint64_t GetEndTimestampUs() const</div><div class="ttdoc">Get the time(us) when the current request processing is completed.</div><div class="ttdef"><b>Definition</b> server_context.h:90</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a58276d78a38df78b3f832616e5561b53"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a58276d78a38df78b3f832616e5561b53">trpc::ServerContext::GetEncodeType</a></div><div class="ttdeci">uint8_t GetEncodeType() const</div><div class="ttdoc">Deprecated: use GetReqEncodeType instead.</div><div class="ttdef"><b>Definition</b> server_context.h:346</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a589fd695ab8e871a5a2cb7376f5ba9b2"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a589fd695ab8e871a5a2cb7376f5ba9b2">trpc::ServerContext::GetService</a></div><div class="ttdeci">Service * GetService()</div><div class="ttdoc">Get the service which the current request belongs to.</div><div class="ttdef"><b>Definition</b> server_context.h:156</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a5ba6a64418080c520d0af1d83e9f47c8"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a5ba6a64418080c520d0af1d83e9f47c8">trpc::ServerContext::SetRspEncodeType</a></div><div class="ttdeci">void SetRspEncodeType(uint8_t encode_type)</div><div class="ttdoc">Set the encoding type of rsp_data_.</div><div class="ttdef"><b>Definition</b> server_context.h:375</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a5d5b0bbea2bb4ad69d28337e26d34f1b"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a5d5b0bbea2bb4ad69d28337e26d34f1b">trpc::ServerContext::AddRspTransInfo</a></div><div class="ttdeci">void AddRspTransInfo(std::string key, std::string value)</div><div class="ttdoc">Add the transparent transmission information of the response.</div><div class="ttdef"><b>Definition</b> server_context.h:393</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a607fd9d83fe97c95e9fba04b34769f5f"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a607fd9d83fe97c95e9fba04b34769f5f">trpc::ServerContext::GetRequestMsg</a></div><div class="ttdeci">ProtocolPtr &amp; GetRequestMsg()</div><div class="ttdoc">Get the protocol request message for the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:203</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a617642a7ce6a1fc6989521264b4c9b3c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a617642a7ce6a1fc6989521264b4c9b3c">trpc::ServerContext::GetPbRspTransInfo</a></div><div class="ttdeci">const TransInfoMap &amp; GetPbRspTransInfo() const</div><div class="ttdoc">Get the transparent transmission information of the response.</div><div class="ttdef"><b>Definition</b> server_context.h:387</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a6235e36a7034b7b2694d7167f7bedae5"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a6235e36a7034b7b2694d7167f7bedae5">trpc::ServerContext::SetRequestData</a></div><div class="ttdeci">void SetRequestData(void *req)</div><div class="ttdoc">Framework use or for testing.</div><div class="ttdef"><b>Definition</b> server_context.h:213</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a636b0ae014cd478c9e28bd3d96bb4068"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a636b0ae014cd478c9e28bd3d96bb4068">trpc::ServerContext::SendUnaryResponse</a></div><div class="ttdeci">void SendUnaryResponse(const Status &amp;status, T &amp;biz_rsp)</div><div class="ttdoc">Implementation of asynchronous packet return on the server side.</div><div class="ttdef"><b>Definition</b> server_context.h:515</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a63a6859dfc60547bc644d5cfbf5cbd4f"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a63a6859dfc60547bc644d5cfbf5cbd4f">trpc::ServerContext::SetRspTransInfo</a></div><div class="ttdeci">void SetRspTransInfo(InputIt first, InputIt last)</div><div class="ttdoc">Add the transparent transmission information of the response.</div><div class="ttdef"><b>Definition</b> server_context.h:397</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a6ce67955d3f5c22e75a079c7e9129a4e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a6ce67955d3f5c22e75a079c7e9129a4e">trpc::ServerContext::GetFuncName</a></div><div class="ttdeci">const std::string &amp; GetFuncName() const</div><div class="ttdoc">Get the function name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:331</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a6fb6df9a4777676bdf533a176f20d52c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a6fb6df9a4777676bdf533a176f20d52c">trpc::ServerContext::SetFilterData</a></div><div class="ttdeci">void SetFilterData(uint32_t id, T &amp;&amp;filter_data)</div><div class="ttdoc">Set the data structure associated with a specific filter.</div><div class="ttdef"><b>Definition</b> server_context.h:440</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a70f0562c48bd6dd00d77b1917893da7f"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a70f0562c48bd6dd00d77b1917893da7f">trpc::ServerContext::IsHttpRequest</a></div><div class="ttdeci">bool IsHttpRequest()</div><div class="ttdoc">Whether a request is using the HTTP or TRPC protocol, you can inspect the request headers.</div><div class="ttdef"><b>Definition</b> server_context.h:481</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a72d77da7c0ce74fe6f3ee76e9e828679"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a72d77da7c0ce74fe6f3ee76e9e828679">trpc::ServerContext::SetFilterController</a></div><div class="ttdeci">void SetFilterController(ServerFilterController *filter_controller)</div><div class="ttdoc">Framework use or for testing. Set filter controller.</div><div class="ttdef"><b>Definition</b> server_context.h:165</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a75d2dbd1878330192f35f9109e6237e4"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a75d2dbd1878330192f35f9109e6237e4">trpc::ServerContext::GetCalleeName</a></div><div class="ttdeci">const std::string &amp; GetCalleeName() const</div><div class="ttdoc">Get the callee name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:325</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a787397d913cabc4e0e45cd381da1475e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a787397d913cabc4e0e45cd381da1475e">trpc::ServerContext::GetCodecName</a></div><div class="ttdeci">std::string GetCodecName() const</div><div class="ttdoc">Get codec name.</div><div class="ttdef"><b>Definition</b> server_context.h:283</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a7b9a093d47e12c5d89d123693f9bc471"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a7b9a093d47e12c5d89d123693f9bc471">trpc::ServerContext::IsConnected</a></div><div class="ttdeci">bool IsConnected()</div><div class="ttdoc">Check if a connection is still valid in a fiber context.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a7e7bfeeed293d6319bac9212ab70956b"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a7e7bfeeed293d6319bac9212ab70956b">trpc::ServerContext::SetNetType</a></div><div class="ttdeci">void SetNetType(NetType type)</div><div class="ttdoc">Framework use or for testing. Set the network type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:114</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a7ed318b82089c4d6f722af1fb949c941"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a7ed318b82089c4d6f722af1fb949c941">trpc::ServerContext::SetRecvTimestampUs</a></div><div class="ttdeci">void SetRecvTimestampUs(uint64_t value)</div><div class="ttdoc">Framework use or for testing. Set the time(us) when the current request is received from the network.</div><div class="ttdef"><b>Definition</b> server_context.h:70</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a835ee765fb821f0ba758d5670df9a2b6"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a835ee765fb821f0ba758d5670df9a2b6">trpc::ServerContext::SetResponseWhenDecodeFail</a></div><div class="ttdeci">void SetResponseWhenDecodeFail(bool need_response)</div><div class="ttdoc">When the codec decode fails, set whether to allow the framework to actively return package.</div><div class="ttdef"><b>Definition</b> server_context.h:473</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a85a18b0c0970bc1229bcf09fb750a6ac"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a85a18b0c0970bc1229bcf09fb750a6ac">trpc::ServerContext::GetRequestData</a></div><div class="ttdeci">void * GetRequestData()</div><div class="ttdoc">Get set user request data struct.</div><div class="ttdef"><b>Definition</b> server_context.h:216</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a874ac8367148508fb4f6fc180e96d883"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a874ac8367148508fb4f6fc180e96d883">trpc::ServerContext::SetBeginTimestampUs</a></div><div class="ttdeci">void SetBeginTimestampUs(uint64_t value)</div><div class="ttdoc">Framework use or for testing.</div><div class="ttdef"><b>Definition</b> server_context.h:78</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a8b858b9c9cea23e0bda98a5ce03cdd01"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a8b858b9c9cea23e0bda98a5ce03cdd01">trpc::ServerContext::GetPort</a></div><div class="ttdeci">uint16_t GetPort() const</div><div class="ttdoc">Get the peer port of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:131</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a8bb19de6eec01203ea11049b4fec3c72"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a8bb19de6eec01203ea11049b4fec3c72">trpc::ServerContext::SetUserData</a></div><div class="ttdeci">void SetUserData(const std::any &amp;data)</div><div class="ttdoc">Set the data associated with the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:489</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a9181906acc0efd253df989a3b836555d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a9181906acc0efd253df989a3b836555d">trpc::ServerContext::SendResponse</a></div><div class="ttdeci">Status SendResponse(NoncontiguousBuffer &amp;&amp;buffer)</div><div class="ttdoc">Implementation of asynchronous packet return on the server side.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a93d22776024480e38374690ce4a7243c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a93d22776024480e38374690ce4a7243c">trpc::ServerContext::SetServerCodec</a></div><div class="ttdeci">void SetServerCodec(ServerCodec *codec)</div><div class="ttdoc">Framework use or for testing. Set the codec which the current request use.</div><div class="ttdef"><b>Definition</b> server_context.h:159</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a9a8dedcf934cf69d0efb7e009684fdde"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a9a8dedcf934cf69d0efb7e009684fdde">trpc::ServerContext::GetMutablePbReqTransInfo</a></div><div class="ttdeci">TransInfoMap * GetMutablePbReqTransInfo()</div><div class="ttdoc">Get the transparent transmission information of the request.</div><div class="ttdef"><b>Definition</b> server_context.h:381</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a9c58621b516dd65de33ff15f410ffdf5"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a9c58621b516dd65de33ff15f410ffdf5">trpc::ServerContext::GetRspCompressLevel</a></div><div class="ttdeci">uint8_t GetRspCompressLevel() const</div><div class="ttdoc">Get the compression level for decompressing response message.</div><div class="ttdef"><b>Definition</b> server_context.h:369</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_a9dfa1840a5ddd3761b5ac1700a2e6449"><div class="ttname"><a href="classtrpc_1_1_server_context.html#a9dfa1840a5ddd3761b5ac1700a2e6449">trpc::ServerContext::SetMessageType</a></div><div class="ttdeci">void SetMessageType(uint32_t msg_type)</div><div class="ttdoc">Framework use or for testing. Set the message type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:340</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aa0cd4d11a5c71b6caac27c272eba206c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aa0cd4d11a5c71b6caac27c272eba206c">trpc::ServerContext::GetLogFieldValue</a></div><div class="ttdeci">std::string GetLogFieldValue(uint32_t filter_id, const std::string &amp;key)</div><div class="ttdoc">Get the remote log field information in the context extension.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aa1d3758eb0bcb0a304a2081c35b6109f"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aa1d3758eb0bcb0a304a2081c35b6109f">trpc::ServerContext::GetMessageType</a></div><div class="ttdeci">uint32_t GetMessageType() const</div><div class="ttdoc">Get the message type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:337</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aa2953c2341777c7f9a579f25fe163218"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aa2953c2341777c7f9a579f25fe163218">trpc::ServerContext::SetPort</a></div><div class="ttdeci">void SetPort(int port)</div><div class="ttdoc">Framework use or for testing. Set the peer port of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:134</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aa54a2b82fbee4ae8cc268865096ac901"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aa54a2b82fbee4ae8cc268865096ac901">trpc::ServerContext::SetEndTimestampUs</a></div><div class="ttdeci">void SetEndTimestampUs(uint64_t value)</div><div class="ttdoc">Framework use or for testing.</div><div class="ttdef"><b>Definition</b> server_context.h:86</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aa89b63ceb3c3254d157d85b039067f84"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aa89b63ceb3c3254d157d85b039067f84">trpc::ServerContext::GetMutablePbRspTransInfo</a></div><div class="ttdeci">TransInfoMap * GetMutablePbRspTransInfo()</div><div class="ttdoc">Get the transparent transmission information of the response.</div><div class="ttdef"><b>Definition</b> server_context.h:390</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab14d14d26506ab176e0ff6c261b6126c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab14d14d26506ab176e0ff6c261b6126c">trpc::ServerContext::GetRecvTimestamp</a></div><div class="ttdeci">uint64_t GetRecvTimestamp() const</div><div class="ttdoc">Get the time when a request is received, in milliseconds.</div><div class="ttdef"><b>Definition</b> server_context.h:103</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab2b1316aace31f0c1ba243f0bb6bfa5d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab2b1316aace31f0c1ba243f0bb6bfa5d">trpc::ServerContext::GetSendMsgCallback</a></div><div class="ttdeci">std::function&lt; void()&gt; &amp; GetSendMsgCallback()</div><div class="ttdoc">Get callback function after send response msg done.</div><div class="ttdef"><b>Definition</b> server_context.h:596</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab4cd5d1bd36abc86c099a9db9181851c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab4cd5d1bd36abc86c099a9db9181851c">trpc::ServerContext::SetCalleeName</a></div><div class="ttdeci">void SetCalleeName(std::string callee)</div><div class="ttdoc">Set the callee name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:328</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab56f69747fd39b3c85502670a4a4f8ad"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab56f69747fd39b3c85502670a4a4f8ad">trpc::ServerContext::GetResponseMsg</a></div><div class="ttdeci">ProtocolPtr &amp; GetResponseMsg()</div><div class="ttdoc">Get the protocol response message for the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:209</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab578c0a89813008131f360368c9ab37d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab578c0a89813008131f360368c9ab37d">trpc::ServerContext::IsDyeingMessage</a></div><div class="ttdeci">bool IsDyeingMessage() const</div><div class="ttdoc">Whether the current request is a dye request message.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab635bc1efcc86f168bca0b16dde84f21"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab635bc1efcc86f168bca0b16dde84f21">trpc::ServerContext::GetCallerName</a></div><div class="ttdeci">const std::string &amp; GetCallerName() const</div><div class="ttdoc">Get the caller name of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:319</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab663206d6ffd0338ff0adfd21118856d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab663206d6ffd0338ff0adfd21118856d">trpc::ServerContext::SendUnaryResponse</a></div><div class="ttdeci">void SendUnaryResponse(const Status &amp;status)</div><div class="ttdoc">Implementation of asynchronous packet return on the server side.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab71a2e02284de3678f3138235f373fa8"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab71a2e02284de3678f3138235f373fa8">trpc::ServerContext::ThrottleConnection</a></div><div class="ttdeci">void ThrottleConnection(bool set)</div><div class="ttdoc">Connection throttling is a technique used to control the flow of data over a connection by pausing th...</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab87453b31cbf74224a212ab26367461b"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab87453b31cbf74224a212ab26367461b">trpc::ServerContext::GetDyeingKey</a></div><div class="ttdeci">std::string GetDyeingKey()</div><div class="ttdoc">Get dye key.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ab9f8bb88e0d6e613a5716aab8dea46c8"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ab9f8bb88e0d6e613a5716aab8dea46c8">trpc::ServerContext::SendTransparentResponse</a></div><div class="ttdeci">void SendTransparentResponse(const Status &amp;status, NoncontiguousBuffer &amp;&amp;bin_rsp)</div><div class="ttdoc">Implementation of asynchronous packet return on the server side.</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_abcffa9137c6cf2196f95aeb8831b9682"><div class="ttname"><a href="classtrpc_1_1_server_context.html#abcffa9137c6cf2196f95aeb8831b9682">trpc::ServerContext::SetStatus</a></div><div class="ttdeci">void SetStatus(const Status &amp;status)</div><div class="ttdoc">Set the last execution result of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:270</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ac192b6b233eecdbbf2dcbc5787e506d2"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ac192b6b233eecdbbf2dcbc5787e506d2">trpc::ServerContext::SetResponseData</a></div><div class="ttdeci">void SetResponseData(void *rsp)</div><div class="ttdoc">Framework use or for testing.</div><div class="ttdef"><b>Definition</b> server_context.h:220</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ac1f789eeab131334652366c594f04fd7"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ac1f789eeab131334652366c594f04fd7">trpc::ServerContext::GetRequestId</a></div><div class="ttdeci">uint32_t GetRequestId() const</div><div class="ttdoc">Get the unique id of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:313</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ac8929dfabcb10aa7e156702832a3c1d0"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ac8929dfabcb10aa7e156702832a3c1d0">trpc::ServerContext::GetTimeout</a></div><div class="ttdeci">uint32_t GetTimeout() const</div><div class="ttdoc">Get the timeout of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:286</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ac9596ab79934419f891d92848375298b"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ac9596ab79934419f891d92848375298b">trpc::ServerContext::SetReqEncodeType</a></div><div class="ttdeci">void SetReqEncodeType(uint8_t type)</div><div class="ttdoc">Framework use or for testing. Set the encoding type of request data.</div><div class="ttdef"><b>Definition</b> server_context.h:349</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_acaee46e7413f31be78fea6e5df1988ed"><div class="ttname"><a href="classtrpc_1_1_server_context.html#acaee46e7413f31be78fea6e5df1988ed">trpc::ServerContext::GetUserData</a></div><div class="ttdeci">const std::any &amp; GetUserData() const</div><div class="ttdoc">Get the data associated with the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:493</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_acca3620bdb961d32147a81cc1ff1da6c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#acca3620bdb961d32147a81cc1ff1da6c">trpc::ServerContext::SetResponseMsg</a></div><div class="ttdeci">void SetResponseMsg(ProtocolPtr &amp;&amp;rsp)</div><div class="ttdoc">Framework use or for testing. Set the protocol response message for the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:206</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ad0c1a26331e3d1ffe28386ac24852540"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ad0c1a26331e3d1ffe28386ac24852540">trpc::ServerContext::AddReqTransInfo</a></div><div class="ttdeci">void AddReqTransInfo(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdoc">Add the transparent transmission information of the request.</div><div class="ttdef"><b>Definition</b> server_context.h:384</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ad37961f794c73de9ee4246e233da52b4"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ad37961f794c73de9ee4246e233da52b4">trpc::ServerContext::IsResponse</a></div><div class="ttdeci">bool IsResponse() const</div><div class="ttdoc">Get the flag of whether the framework actively returns packets.</div><div class="ttdef"><b>Definition</b> server_context.h:469</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ad3a9126c827a3fd8ba450930ad0df287"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ad3a9126c827a3fd8ba450930ad0df287">trpc::ServerContext::SetIsUseFullLinkTimeout</a></div><div class="ttdeci">void SetIsUseFullLinkTimeout(bool use_fulllink)</div><div class="ttdoc">Framework use or for testing. Set whether the server timeout is the full link timeout.</div><div class="ttdef"><b>Definition</b> server_context.h:299</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_adb630f54dd49a2139079f7b1ff24cd5d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#adb630f54dd49a2139079f7b1ff24cd5d">trpc::ServerContext::SetRequestId</a></div><div class="ttdeci">void SetRequestId(uint32_t id)</div><div class="ttdoc">Framework use or for testing. Set the unique id of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:316</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ae27c5150bf99a5214ad8dfa2660b822d"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ae27c5150bf99a5214ad8dfa2660b822d">trpc::ServerContext::SetRspCompressType</a></div><div class="ttdeci">void SetRspCompressType(uint8_t compress_type)</div><div class="ttdoc">Set the compression type for decompressing response message.</div><div class="ttdef"><b>Definition</b> server_context.h:360</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ae3d389cfcaf75a687cb9c3fa1124f543"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ae3d389cfcaf75a687cb9c3fa1124f543">trpc::ServerContext::GetFilterData</a></div><div class="ttdeci">T * GetFilterData(uint32_t id)</div><div class="ttdoc">Get the data structure associated with a specific filter.</div><div class="ttdef"><b>Definition</b> server_context.h:451</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ae7aff94a058bfccbee5091cecf61f2b2"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ae7aff94a058bfccbee5091cecf61f2b2">trpc::ServerContext::SetStreamReaderWriterProvider</a></div><div class="ttdeci">void SetStreamReaderWriterProvider(stream::StreamReaderWriterProviderPtr &amp;&amp;stream_provider)</div><div class="ttdoc">Sets the reader and writer of Streaming RPC.</div><div class="ttdef"><b>Definition</b> server_context.h:498</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ae8cafe779974af2e7391c72e515d6965"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ae8cafe779974af2e7391c72e515d6965">trpc::ServerContext::GetIp</a></div><div class="ttdeci">std::string GetIp() const</div><div class="ttdoc">Get the peer ip of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:125</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_ae9e20f4a6fe6e90fc14043e03e876c0c"><div class="ttname"><a href="classtrpc_1_1_server_context.html#ae9e20f4a6fe6e90fc14043e03e876c0c">trpc::ServerContext::GetReqCompressType</a></div><div class="ttdeci">uint8_t GetReqCompressType() const</div><div class="ttdoc">Get the compression type for compressing request message.</div><div class="ttdef"><b>Definition</b> server_context.h:355</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_aea5de2b51c9667bfe6bd9c38d2672895"><div class="ttname"><a href="classtrpc_1_1_server_context.html#aea5de2b51c9667bfe6bd9c38d2672895">trpc::ServerContext::GetBeginTimestamp</a></div><div class="ttdeci">uint64_t GetBeginTimestamp() const</div><div class="ttdoc">Get the time when a request starts to be processed, in milliseconds.</div><div class="ttdef"><b>Definition</b> server_context.h:106</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_af135b4305952e93517243888bcc9a0d5"><div class="ttname"><a href="classtrpc_1_1_server_context.html#af135b4305952e93517243888bcc9a0d5">trpc::ServerContext::SetCallType</a></div><div class="ttdeci">void SetCallType(uint8_t call_type)</div><div class="ttdoc">Framework use or for testing. Set the call type of the current request.</div><div class="ttdef"><b>Definition</b> server_context.h:310</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_af6f85e78907d7e99eacc5f3ddb3e4893"><div class="ttname"><a href="classtrpc_1_1_server_context.html#af6f85e78907d7e99eacc5f3ddb3e4893">trpc::ServerContext::GetStreamReaderWriterProvider</a></div><div class="ttdeci">stream::StreamReaderWriterProviderPtr GetStreamReaderWriterProvider()</div><div class="ttdoc">Gets the reader and writer of Streaming RPC.</div><div class="ttdef"><b>Definition</b> server_context.h:504</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_af71184e81840cea9522053e8f7ca864e"><div class="ttname"><a href="classtrpc_1_1_server_context.html#af71184e81840cea9522053e8f7ca864e">trpc::ServerContext::SetRspCompressLevel</a></div><div class="ttdeci">void SetRspCompressLevel(uint8_t compress_level)</div><div class="ttdoc">Set the compression level for decompressing response message.</div><div class="ttdef"><b>Definition</b> server_context.h:366</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_af985fb44f50290a544bafad1743356d6"><div class="ttname"><a href="classtrpc_1_1_server_context.html#af985fb44f50290a544bafad1743356d6">trpc::ServerContext::NetType</a></div><div class="ttdeci">NetType</div><div class="ttdoc">requested network type</div><div class="ttdef"><b>Definition</b> server_context.h:56</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_afa6160b3bf16ca1157d82725f3938132"><div class="ttname"><a href="classtrpc_1_1_server_context.html#afa6160b3bf16ca1157d82725f3938132">trpc::ServerContext::GetRequestAttachment</a></div><div class="ttdeci">const NoncontiguousBuffer &amp; GetRequestAttachment()</div><div class="ttdoc">Get request attachment data.</div><div class="ttdef"><b>Definition</b> server_context.h:254</div></div>
<div class="ttc" id="aclasstrpc_1_1_server_context_html_afc0c109d906e5e377adae76341aff1bc"><div class="ttname"><a href="classtrpc_1_1_server_context.html#afc0c109d906e5e377adae76341aff1bc">trpc::ServerContext::NeedResponseWhenDecodeFail</a></div><div class="ttdeci">bool NeedResponseWhenDecodeFail() const</div><div class="ttdoc">Get whether to allow the framework to actively return package.</div><div class="ttdef"><b>Definition</b> server_context.h:477</div></div>
<div class="ttc" id="aclasstrpc_1_1_service_html"><div class="ttname"><a href="classtrpc_1_1_service.html">trpc::Service</a></div><div class="ttdoc">Base class for service.</div><div class="ttdef"><b>Definition</b> service.h:47</div></div>
<div class="ttc" id="aclasstrpc_1_1_status_html"><div class="ttname"><a href="classtrpc_1_1_status.html">trpc::Status</a></div><div class="ttdoc">The status information class returned by the RPC call.</div><div class="ttdef"><b>Definition</b> status.h:27</div></div>
<div class="ttc" id="anamespacetrpc_1_1compressor_html_a593d622b5b778673392d66be44a61901"><div class="ttname"><a href="namespacetrpc_1_1compressor.html#a593d622b5b778673392d66be44a61901">trpc::compressor::kNone</a></div><div class="ttdeci">constexpr CompressType kNone</div><div class="ttdoc">Type 0 is the default, it means no compression is used.</div><div class="ttdef"><b>Definition</b> compressor_type.h:27</div></div>
<div class="ttc" id="anamespacetrpc_1_1compressor_html_ab9e6c9b81e6d5a6ec6aea8cb35407ded"><div class="ttname"><a href="namespacetrpc_1_1compressor.html#ab9e6c9b81e6d5a6ec6aea8cb35407ded">trpc::compressor::kDefault</a></div><div class="ttdeci">constexpr LevelType kDefault</div><div class="ttdoc">Compression quality and performance are conflicting goals. Level 1 is a compromise.</div><div class="ttdef"><b>Definition</b> compressor_type.h:52</div></div>
<div class="ttc" id="anamespacetrpc_1_1serialization_html_a50b82436a989242219062c1136c251b0"><div class="ttname"><a href="namespacetrpc_1_1serialization.html#a50b82436a989242219062c1136c251b0">trpc::serialization::DataType</a></div><div class="ttdeci">uint8_t DataType</div><div class="ttdoc">The data-struct type of serialization and deserialization.</div><div class="ttdef"><b>Definition</b> serialization_type.h:46</div></div>
<div class="ttc" id="anamespacetrpc_html"><div class="ttname"><a href="namespacetrpc.html">trpc</a></div><div class="ttdoc">Primary namespace of tRPC-Cpp.</div><div class="ttdef"><b>Definition</b> admin_handler.h:45</div></div>
<div class="ttc" id="anamespacetrpc_html_a0a2c6e0dda991ab8f837c6568a2176a4"><div class="ttname"><a href="namespacetrpc.html#a0a2c6e0dda991ab8f837c6568a2176a4">trpc::kServerFilterMask</a></div><div class="ttdeci">constexpr uint8_t kServerFilterMask</div><div class="ttdoc">The mask for server filter points.</div><div class="ttdef"><b>Definition</b> filter_point.h:22</div></div>
<div class="ttc" id="anamespacetrpc_html_a30ad6719274d32670d65731183e4db12"><div class="ttname"><a href="namespacetrpc.html#a30ad6719274d32670d65731183e4db12">trpc::FilterPoint</a></div><div class="ttdeci">FilterPoint</div><div class="ttdoc">Enumeration of filter points : including pre and post filter points (there are paired).</div><div class="ttdef"><b>Definition</b> filter_point.h:27</div></div>
<div class="ttc" id="anamespacetrpc_html_a5b49ff60cf45fbb6ec2e6d853a8b1bf7"><div class="ttname"><a href="namespacetrpc.html#a5b49ff60cf45fbb6ec2e6d853a8b1bf7">trpc::SetLocalServerContext</a></div><div class="ttdeci">void SetLocalServerContext(const ServerContextPtr &amp;context)</div><div class="ttdoc">Set the context to a thread-private variable.</div></div>
<div class="ttc" id="anamespacetrpc_html_a95e66df12b5ba86d583b735a21cc48b9"><div class="ttname"><a href="namespacetrpc.html#a95e66df12b5ba86d583b735a21cc48b9">trpc::GetLocalServerContext</a></div><div class="ttdeci">ServerContextPtr GetLocalServerContext()</div><div class="ttdoc">Retrieve the context from a thread-private variable.</div></div>
<div class="ttc" id="anamespacetrpc_html_ab6001925f1a00ab41ddb779f784002b4"><div class="ttname"><a href="namespacetrpc.html#ab6001925f1a00ab41ddb779f784002b4">trpc::TransInfoMap</a></div><div class="ttdeci">google::protobuf::Map&lt; std::string, std::string &gt; TransInfoMap</div><div class="ttdoc">Simplify the mapping name of pass-through information.</div><div class="ttdef"><b>Definition</b> protocol.h:27</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 28 2023 11:25:47 for tRPC-Cpp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
